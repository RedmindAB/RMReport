<div class="screenshot-nav-container">
	<!-- Current possition -->
		<h4 class="screenshot-nav">
			{{style.removePackagePath(CurrentSuite.currentClass.name)}}
		</h4>
</div>

<div>
	<p 
		id='syso-header' 
		class='accordion-name-container' 
		style='cursor:pointer' 
		ng-click='getConsolePrint();toggleConsoleModal();'>
		System out prints
	</p>
	
	<h1 ng-if="noScreenShotsExists()">
		No screenshots taken in this build
	</h1>

	<accordion close-others="false">
	    <div 
	    	ng-if="containsScreenshots(method)" 
	    	class='noselect' 
	    	ng-repeat="method in ScreenshotMaster.data | orderBy:['-stats.totFail','result','name']">
	        <accordion-group style="margin-top:10px;padding:0px;" ng-class='style.getPanel(method.result)' >
	            <accordion-heading>
					<div id='method-{{$index}}' class="accordion-toggle" style="display:inline-block;width:100%">
						<p 
							class="accordion-name-container text-left" 
							style="margin:0px" 
							ng-style="{'color' : style.getColor(method.result)}">
							{{method.name}}&nbsp;&nbsp;Screenshots: {{method.screenshotLength}}
						</p>
						<p 
							class="accordion-name-container text-right" 
							style="margin:0px" ng-style="{'color' : style.getColor(method.result)}">
							&nbsp;Skipped: {{method.skipped}} Failed: {{method.stats.totFail}}
						</p>
          				</div>
	            </accordion-heading>
	            
	            <div 
	            	ng-if="method.screenshotLength > 0" 
	            	style="width:{{getMethodContentWidth(method)}}px;" 
	            	class="screenshot-view">
					<table style="margin-top:5px; margin-bottom:5px;border-collapse: separate;border-spacing: 10px 0px;">
						<tr class="normal-padding-td">
							<td 
								id="screenshot-header-{{$index}}"
								ng-repeat="case in method.testcases track by $index" 
								ng-style="{'background-color': style.getBgCo(case.result)}" 
								class='panel screenshot-td screenshot-background-top'>
								<h4>{{case.device}} - {{case.browser}}</h4>
							</td>
						</tr>
						<tr 
							ng-repeat="screenshot in makeArray(method.screenshotLength) track by $index" 
							ng-init="screenshotIndex = $index">
							<td 
								ng-repeat="case in method.testcases" 
								style="vertical-align:top;" 
								ng-style="{'background-color': style.getBgCo(case.result)}" 
								ng-class="isLastIndex(screenshotIndex, method.screenshotLength) ? 'screenshot-background-bot': 'screenshot-background-mid'">
								<p 
									style='margin-left:5px;margin-bottom:-2px' 
									ng-if='case.screenshots[screenshotIndex] !== undefined'>
									{{getScreenshotOrder(case.screenshots[screenshotIndex])}}
								</p>
								<div ng-if="case.screenshots[screenshotIndex] !== undefined">
									{{getCommentFromFileName(case.screenshots[screenshotIndex])}}
								</div>
								<div class="screenshot-img-container">
									<img 
										id='screenshot{{screenshotIndex}}-{{$index}}' 
										ng-click='setCurrentMethod(method); 
												setSlides(method.testcases, $index, screenshotIndex); 
												toggleScreenshotModal();'
										width='200px' 
										ng-src="{{getScreenshotsFromFileName(case.screenshots[screenshotIndex])}}"/>
								</div>
									
									<br>
									<br>
							</td>
						</tr>
					</table>
				</div>
	        </accordion-group>
	    </div>
	</accordion>
</div>

<!-- Screeshot modal -->
<modal-dialog 
	id='modal-screenshot-dialog' 
	show='screenshotModalShown'
	style='background-color : transparent;color:white' 
	toggle-modal="toggleScreenshotModal()">
		<div>
		<h1 align='center' class='white'>
			{{currentMethod.name}}
			<br/>
			{{getCurrentSlideInfo()}}
		</h1>
		</div>
		<div class="wrapper" align='center'>
			<ul class="dots">
				<li 
					id='dot' 
					class="dot screenshot-methods-description" 
					ng-repeat="slide in slides track by $index">
					<a 
						href="#"
						ng-class="{'active':isCurrentSlideIndex($index)}"
						ng-click="setCurrentSlideIndex($index);">
						{{slide.description}}
					</a>
				</li>
			</ul>
		</div>
	<br>
	<div class="container2" style='width:100%'>
		<a 
			id='arrow_prev' 
			class="arrow prev" 
			href="#" 
			ng-click="nextSlide()">
		</a>
		<a 
			id='arrow_next' 
			class="arrow next"
			href="#" 
			ng-click="prevSlide()">
		</a>
	</div>
	<div class="container slider">
		<img 
			onmousedown="event.preventDefault" 
			ng-repeat="slide in slides"
			class="slide slide-animation nonDraggableImage slide-img table-m"
			ng-swipe-right="nextSlide()" 
			ng-swipe-left="prevSlide()"
			ng-hide="!isCurrentSlideIndex($index)" 
			ng-src="{{slide}}"/>
	</div>
</modal-dialog>

<!-- Console print modal -->
<modal-dialog 
	id='modal-console-dialog' 
	show='consoleModalShown'
	style='background-color : transparent;color:white' 
	toggle-modal="toggleConsoleModal()">
	<h1 id='syso-header' align='center'>
		Console prints
	</h1>
	<br/>
	<div class="container slider" style='color:black;font-size:20px;'>
		<table align='center' style='margin-top:20px'>
			<tr>
				<td style='text-align:left'>
					<pre>{{ScreenshotMaster.consolePrint}}</pre>
				</td>
			</tr>
		</table>
	</div>
</modal-dialog-sysos>